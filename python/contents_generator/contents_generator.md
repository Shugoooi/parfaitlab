# 自動目次生成機能について

> update : 2018-5-18

## 概要
* 自動で目次を生成するMarkDown専用スクリプト


## 使い方
* 目次を作りたい箇所に`## 目次`と記す
* 目次と次の文章の間に1行以上の間を作る

#### 目次生成の仕様
* 目次はH2見出し
* `## 目次`と記した以下の章立てを参考に目次を生成する
* H2見出しを番号付きリストにする
* H3見出しを入れ子のリストにする

## 処理の流れ
1. テキストファイルを読む
2. `## 目次\n`を探索
3. それ以降の行について
	* `## `を検出→`0. `へ置換
	* `### `を検出→`\t* `へ置換
4. 集めて目次の下にバーッと並べる


## 調査事項
#### ファイル操作
* 読み込み
```
open(__filename__, 'rt') # 'rt'でread textfile
```
* 編集
```
# リスト内フィルター
filter(lambda x: x % 2 is 0, list01)

# リスト内検索
list.index(obj)

# 文字置換
replace(before, after, count)
```
* 保存
```
file.write(string) # 書き込む
file.close() # 後処理クローズ
```

#### タブ文字の入れ方
* 普通に`\t`でいいっぽい
#### 文字コード
* まあ駄目だった時考えよう
	* 一番ハマッたしよくわからんけどとりあえず全ファイルutf-8なら大丈夫

## 拡張性
* 探索文字の多様性
* 置換文字や検出文字の多様性
* 目次クラスの提案
	* 親子関係を作る
	* ルートを作る
	* 各階層には以下を定義
		* 親
		* 子
		* 検出文字
		* 置換文字
